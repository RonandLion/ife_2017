<!DOCTYPE>
<html>
  <head>
    <meta charset="utf-8">
    <title>IFE JavaScript Task 04</title>
    <style>
      .items {
        background-color: red;
        color: white;
        margin: 3px;
        padding: 5px;
      }
    </style>
  </head>
<body>
  <input type="text" id="input" />
  <button id="leftin">左侧入</button>
  <button id="rightin">右侧入</button>
  <button id="leftout">左侧出</button>
  <button id="rightout">右侧出</button>
  <p id="queue"></p>
<script>
  var queue = document.getElementById("queue");

  function createItem(){
    var n = input.value;
    if(!isNaN(n) && n!==""){
      var item = document.createElement("span");
      item.className = "items";
      item.innerHTML = n;
    }
    return item;
  }

  function leftin(){
    var item = createItem();
    if(item != undefined){
      queue.insertBefore(item,queue.firstChild);
      ifDel(item);
    }
  }

  function rightin(){
    var item = createItem();
    if(item != undefined){
      queue.insertBefore(item,null);
      ifDel(item);
    }
  }

  function leftout(){
    var item = queue.removeChild(queue.firstChild)
    alert(item.innerHTML);
  }

  function rightout(){
    var item = queue.removeChild(queue.lastChild)
    alert(item.innerHTML);
  }

  function ifDel(item){
    item.onclick = function(){
      queue.removeChild(item);
    }
  }

  function init(){

    var leftinBtn = document.getElementById("leftin");
    leftinBtn.onclick = leftin;

    var rightinBtn = document.getElementById("rightin");
    rightinBtn.onclick = rightin;

    var leftoutBtn = document.getElementById("leftout");
    leftoutBtn.onclick = leftout;

    var rightoutBtn = document.getElementById("rightout");
    rightoutBtn.onclick = rightout;

    console.log(queue.children.length);
    for(var i=0; i<queue.children.length; i++){
      console.log(queue.children[i]);
      queue.children[i].onclick = function(){
        del(children[i]);
      }
    }
  }

  init();
</script>
</body>
</html>
